<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>memo</title>
  <meta name="description" content="ã‚·ãƒ³ãƒ—ãƒ«ã§ä½¿ã„ã‚„ã™ã„ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒª">

  <!-- Favicon & Web Clip Icon -->
  <link rel="icon" type="image/png" href="icon.png">
  <link rel="apple-touch-icon" href="icon.png">
  <link rel="apple-touch-icon-precomposed" href="icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="memo">
  <script src="https://unpkg.com/dexie@4/dist/dexie.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.5.1/github-markdown-light.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Noto Sans JP', 'sans-serif'],
          },
          colors: {
            ios: {
              bg: '#f2f2f7',
              card: '#ffffff',
              blue: '#007aff',
              gray: '#8e8e93',
              lightGray: '#c7c7cc',
              separator: '#c6c6c8',
            }
          },
          boxShadow: {
            'ios': '0 1px 3px rgba(0, 0, 0, 0.08)',
            'ios-lg': '0 4px 12px rgba(0, 0, 0, 0.1)',
          }
        }
      }
    }
  </script>
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Noto Sans JP', sans-serif;
      background-color: #f2f2f7;
      min-height: 100vh;
      overscroll-behavior: none;
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .accordion-content.open {
      max-height: 2000px;
      transition: max-height 0.5s ease-in;
    }

    .folder-arrow {
      transition: transform 0.3s ease;
    }

    .folder-arrow.open {
      transform: rotate(90deg);
    }

    .modal-overlay {
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      transform: translateY(100%);
      transition: transform 0.3s ease;
    }

    .modal-overlay.open .modal-content {
      transform: translateY(0);
    }

    .search-replace-panel {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .search-replace-panel.open {
      max-height: 200px;
    }

    textarea:focus,
    input:focus {
      outline: none;
    }

    .memo-card {
      transition: background-color 0.15s ease;
    }

    .memo-card:active {
      background-color: #e5e5ea;
    }

    /* Safe area for notch devices */
    .safe-top {
      padding-top: env(safe-area-inset-top, 0px);
    }

    .safe-bottom {
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 0px;
    }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼æŠ˜ã‚ŠãŸãŸã¿ */
    #editorHeaderGroup {
      transition: transform 0.3s ease, opacity 0.3s ease, max-height 0.3s ease;
      overflow: hidden;
      max-height: 500px;
      opacity: 1;
    }

    #editorHeaderGroup.collapsed {
      transform: translateY(-20px);
      opacity: 0;
      max-height: 0;
      padding-top: 0;
      padding-bottom: 0;
      pointer-events: none;
    }

    /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
    .toast-notification {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 12px 24px;
      border-radius: 99px;
      font-size: 14px;
      font-weight: 500;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      z-index: 100;
      pointer-events: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toast-notification.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ (ãƒ•ã‚§ãƒ¼ã‚º5) */
    .markdown-body {
      line-height: 1.8 !important;
      /* è¡Œé–“ã‚’åºƒã’ã‚‹ */
      font-size: 16px;
    }

    .markdown-body p {
      margin-bottom: 1.5em !important;
      /* æ®µè½é–“ã«ä½™ç™½ã‚’è¿½åŠ  */
    }
  </style>
</head>

<body class="safe-top safe-bottom">
  <!-- ãƒ¡ã‚¤ãƒ³ç”»é¢ -->
  <div id="mainScreen" class="min-h-screen">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="sticky top-0 z-10 bg-ios-bg/95 backdrop-blur-sm px-4 pt-3 pb-2">
      <div class="flex items-center justify-between mb-3">
        <h1 class="text-2xl font-bold text-gray-800">ğŸ“ memo</h1>
        <button id="settingsBtn" class="p-2 text-ios-gray hover:text-ios-blue transition-colors">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
        </button>
      </div>

      <!-- ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¤œç´¢ -->
      <div class="relative mb-3">
        <input type="text" id="globalSearch" placeholder="ã™ã¹ã¦ã®ãƒ¡ãƒ¢ã‚’æ¤œç´¢..."
          class="w-full bg-ios-card rounded-xl px-4 py-2.5 pl-10 text-sm shadow-ios placeholder-ios-gray">
        <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-ios-gray" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <button id="clearSearch" class="absolute right-3 top-1/2 -translate-y-1/2 hidden">
          <svg class="w-5 h-5 text-ios-gray" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>

      <!-- æ–°è¦ãƒ¡ãƒ¢ä½œæˆãƒœã‚¿ãƒ³ -->
      <button id="newMemoBtn"
        class="w-full bg-ios-blue text-white font-semibold py-3 rounded-xl shadow-ios-lg active:bg-blue-600 transition-colors flex items-center justify-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        æ–°è¦ãƒ¡ãƒ¢ã‚’ä½œæˆ
      </button>
    </header>

    <!-- æ¤œç´¢çµæœ -->
    <div id="searchResults" class="hidden px-4 pb-4">
      <h2 class="text-sm font-semibold text-ios-gray mb-2">æ¤œç´¢çµæœ</h2>
      <div id="searchResultsList" class="space-y-2"></div>
    </div>

    <!-- ãƒ•ã‚©ãƒ«ãƒ€ãƒªã‚¹ãƒˆ -->
    <main id="folderList" class="px-4 pb-24">
      <!-- ãƒ•ã‚©ãƒ«ãƒ€ã¯JSã§å‹•çš„ã«è¿½åŠ  -->
    </main>

    <!-- ãƒ•ã‚©ãƒ«ãƒ€è¿½åŠ ãƒœã‚¿ãƒ³ -->
    <div class="fixed bottom-6 right-6">
      <button id="addFolderBtn"
        class="w-14 h-14 bg-ios-card rounded-full shadow-ios-lg flex items-center justify-center active:bg-gray-100 transition-colors">
        <svg class="w-6 h-6 text-ios-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
        </svg>
      </button>
    </div>
  </div>

  <!-- ãƒ¡ãƒ¢ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="editorModal" class="modal-overlay fixed inset-0 z-50 bg-black/40">
    <div class="modal-content absolute inset-0 bg-ios-bg flex flex-col">
      <!-- ã‚¨ãƒ‡ã‚£ã‚¿ãƒ˜ãƒƒãƒ€ãƒ¼ -->
      <header
        class="flex items-center justify-between px-4 py-3 bg-ios-card border-b border-ios-separator safe-top relative z-20">
        <button id="closeEditor" class="text-ios-blue font-medium py-2 px-1">
          â† æˆ»ã‚‹
        </button>
        <div class="flex gap-2">
          <!-- ä¿å­˜ï¼ˆä¸Šæ›¸ãï¼‰ -->
          <button id="saveBtn"
            class="bg-ios-blue text-white font-medium py-1.5 px-3 rounded-lg active:bg-blue-600 shadow-sm flex items-center gap-1.5"
            title="ä¸Šæ›¸ãä¿å­˜">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" />
            </svg>
            ä¿å­˜
          </button>

          <!-- å‡ºåŠ›ï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰ -->
          <button id="exportBtn"
            class="text-ios-blue font-medium py-1.5 px-3 rounded-lg active:bg-gray-100 border border-ios-blue flex items-center gap-1.5"
            title="ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
            </svg>
            å‡ºåŠ›
          </button>

          <button id="deleteBtn" class="text-red-500 font-medium py-2 px-3 rounded-lg active:bg-gray-100 hidden">
            ğŸ—‘ï¸
          </button>
        </div>
      </header>

      <!-- æŠ˜ã‚ŠãŸãŸã¿å¯¾è±¡ã‚¨ãƒªã‚¢ -->
      <div id="editorHeaderGroup">
        <!-- ãƒ•ã‚©ãƒ«ãƒ€é¸æŠ -->
        <div class="px-4 py-3 bg-ios-card border-b border-ios-separator">
          <label class="text-sm text-ios-gray">ä¿å­˜å…ˆãƒ•ã‚©ãƒ«ãƒ€</label>
          <div class="flex gap-2 mt-1">
            <select id="folderSelect" class="flex-1 bg-ios-bg rounded-lg px-3 py-2.5 text-sm font-medium">
              <option value="">ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ...</option>
            </select>
            <button id="addFolderInlineBtn"
              class="bg-ios-blue text-white px-3 py-2 rounded-lg text-sm font-medium active:bg-blue-600">
              ï¼‹
            </button>
          </div>
          <!-- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ -->
          <div id="inlineFolderCreate" class="hidden mt-2">
            <div class="flex gap-2">
              <input type="text" id="inlineFolderName" placeholder="æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€å"
                class="flex-1 bg-ios-bg rounded-lg px-3 py-2 text-sm">
              <button id="confirmInlineFolder" class="bg-ios-blue text-white px-3 py-2 rounded-lg text-sm font-medium">
                ä½œæˆ
              </button>
              <button id="cancelInlineFolder" class="text-ios-gray px-2 py-2 text-sm">
                âœ•
              </button>
            </div>
          </div>
        </div>

        <!-- ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ› -->
        <div class="px-4 py-3 bg-ios-card border-b border-ios-separator">
          <input type="text" id="memoTitle" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆç©ºæ¬„å¯ï¼‰"
            class="w-full text-lg font-semibold bg-transparent placeholder-ios-gray">
        </div>

        <!-- Markdownå…¥åŠ›æ”¯æ´ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ -->
        <div class="px-4 py-2 bg-ios-card border-b border-ios-separator">
          <div class="flex items-center gap-1.5 flex-wrap overflow-x-auto pb-1"
            style="-webkit-overflow-scrolling: touch;">
            <!-- ãƒªã‚¹ãƒˆ -->
            <button id="insertListBtn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200 whitespace-nowrap"
              title="ãƒªã‚¹ãƒˆ">
              â€¢ ãƒªã‚¹ãƒˆ
            </button>

            <!-- H2 -->
            <button id="insertH2Btn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200"
              title="è¦‹å‡ºã— (H2)">
              H2
            </button>

            <!-- H3 -->
            <button id="insertH3Btn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200"
              title="å°è¦‹å‡ºã— (H3)">
              H3
            </button>

            <!-- H1 (New) -->
            <button id="insertH1Btn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200"
              title="å¤§è¦‹å‡ºã— (H1)">
              H1
            </button>

            <!-- å¤ªå­— -->
            <button id="insertBoldBtn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-bold text-gray-700 active:bg-gray-200" title="å¤ªå­—">
              B
            </button>

            <!-- å¼•ç”¨ (New) -->
            <button id="insertQuoteBtn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200" title="å¼•ç”¨">
              â€ å¼•ç”¨
            </button>

            <!-- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ -->
            <button id="insertCheckboxBtn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200 whitespace-nowrap"
              title="ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹">
              â˜ ãƒã‚§ãƒƒã‚¯
            </button>

            <!-- åŒºåˆ‡ã‚Šç·š (New) -->
            <button id="insertHrBtn"
              class="px-3 py-1.5 bg-ios-bg rounded-lg text-sm font-medium text-gray-700 active:bg-gray-200 text-xs flex items-center"
              title="åŒºåˆ‡ã‚Šç·š">
              ãƒ¼ãƒ¼
            </button>

            <div class="flex-1"></div>
            <button id="markdownHelpBtn"
              class="px-3 py-1.5 bg-ios-blue text-white rounded-lg text-sm font-medium active:bg-blue-600 shrink-0"
              title="Markdownãƒ˜ãƒ«ãƒ—">
              ï¼Ÿ
            </button>
          </div>
        </div>

        <!-- ç·¨é›†/ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆã‚¿ãƒ– -->
        <div class="px-4 py-2 bg-ios-card border-b border-ios-separator flex items-center gap-4">
          <div class="flex bg-ios-bg rounded-lg p-0.5">
            <button id="editTabBtn"
              class="px-4 py-1.5 rounded-md text-sm font-medium bg-white text-gray-800 shadow-sm transition-all">
              âœï¸ ç·¨é›†
            </button>
            <button id="previewTabBtn" class="px-4 py-1.5 rounded-md text-sm font-medium text-gray-500 transition-all">
              ğŸ‘ï¸ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
            </button>
          </div>
          <!-- ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ -->
          <label for="importFile"
            class="text-ios-blue text-sm font-medium py-1 px-2 cursor-pointer active:opacity-60 flex items-center gap-1"
            title="ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€">
            ğŸ“‚ é–‹ã
            <input type="file" id="importFile" accept=".txt,.md" class="hidden">
          </label>
          <div class="flex-1"></div>
          <button id="toggleSearchReplace" class="flex items-center gap-1 text-ios-blue text-sm font-medium py-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            æ¤œç´¢
          </button>
          <div id="charCount" class="text-sm text-ios-gray">0 æ–‡å­—</div>
        </div>

        <!-- æ¤œç´¢ãƒ»ç½®æ›ãƒ‘ãƒãƒ« -->
        <div id="searchReplacePanel" class="search-replace-panel bg-ios-card border-b border-ios-separator">
          <div class="px-4 py-3 space-y-2">
            <div class="flex gap-2">
              <input type="text" id="searchText" placeholder="æ¤œç´¢..."
                class="flex-1 bg-ios-bg rounded-lg px-3 py-2 text-sm">
              <button id="findNextBtn" class="bg-ios-blue text-white px-3 py-2 rounded-lg text-sm font-medium">
                æ¬¡ã¸
              </button>
            </div>
            <div class="flex gap-2">
              <input type="text" id="replaceText" placeholder="ç½®æ›..."
                class="flex-1 bg-ios-bg rounded-lg px-3 py-2 text-sm">
              <button id="replaceBtn" class="bg-ios-gray text-white px-3 py-2 rounded-lg text-sm font-medium">
                ç½®æ›
              </button>
              <button id="replaceAllBtn" class="bg-ios-gray text-white px-3 py-2 rounded-lg text-sm font-medium">
                å…¨ã¦
              </button>
            </div>
            <div id="searchInfo" class="text-xs text-ios-gray"></div>
          </div>
        </div>
      </div>

      <!-- ãƒ˜ãƒƒãƒ€ãƒ¼æŠ˜ã‚ŠãŸãŸã¿ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ -->
      <button id="toggleHeaderBtn"
        class="w-full bg-ios-card hover:bg-gray-50 text-ios-gray py-1 flex justify-center border-b border-ios-separator relative z-10 transition-colors">
        <svg class="w-5 h-5 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
        </svg>
      </button>

      <!-- æœ¬æ–‡å…¥åŠ› / ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
      <div class="flex-1 overflow-hidden relative">
        <textarea id="memoContent"
          placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›...&#10;&#10;ğŸ’¡ Markdownã§æ›¸ã‘ã¾ã™ï¼š&#10;## è¦‹å‡ºã—&#10;**å¤ªå­—**&#10;- ãƒªã‚¹ãƒˆ&#10;- [ ] ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹"
          class="w-full h-full px-4 py-3 bg-ios-card text-base leading-relaxed resize-none"></textarea>
        <div id="previewArea" class="hidden absolute inset-0 px-4 py-3 bg-ios-card overflow-auto markdown-body">
        </div>
      </div>
    </div>
  </div>

  <!-- ãƒ•ã‚©ãƒ«ãƒ€è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="folderModal" class="modal-overlay fixed inset-0 z-50 bg-black/40 flex items-center justify-center px-8">
    <div class="modal-content bg-ios-card rounded-2xl w-full max-w-sm shadow-ios-lg transform translate-y-0">
      <div class="p-6">
        <h2 class="text-lg font-bold text-center mb-4">æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€</h2>
        <input type="text" id="folderName" placeholder="ãƒ•ã‚©ãƒ«ãƒ€åã‚’å…¥åŠ›"
          class="w-full bg-ios-bg rounded-xl px-4 py-3 text-center">
      </div>
      <div class="flex border-t border-ios-separator">
        <button id="cancelFolder" class="flex-1 py-3 text-ios-blue font-medium border-r border-ios-separator">
          ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        </button>
        <button id="confirmFolder" class="flex-1 py-3 text-ios-blue font-semibold">
          ä½œæˆ
        </button>
      </div>
    </div>
  </div>

  <!-- ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
  <div id="confirmModal" class="modal-overlay fixed inset-0 z-50 bg-black/40 flex items-center justify-center px-8">
    <div class="modal-content bg-ios-card rounded-2xl w-full max-w-sm shadow-ios-lg transform translate-y-0">
      <div class="p-6">
        <h2 id="confirmTitle" class="text-lg font-bold text-center mb-2">ç¢ºèª</h2>
        <p id="confirmMessage" class="text-center text-ios-gray"></p>
      </div>
      <div class="flex border-t border-ios-separator">
        <button id="confirmCancel" class="flex-1 py-3 text-ios-blue font-medium border-r border-ios-separator">
          ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        </button>
        <button id="confirmOk" class="flex-1 py-3 text-red-500 font-semibold">
          å‰Šé™¤
        </button>
      </div>
    </div>
  </div>

  <!-- è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="settingsModal" class="modal-overlay fixed inset-0 z-50 bg-black/40 flex items-center justify-center px-8">
    <div class="modal-content bg-ios-card rounded-2xl w-full max-w-sm shadow-ios-lg transform translate-y-0">
      <div class="p-6">
        <h2 class="text-lg font-bold text-center mb-4">âš™ï¸ è¨­å®š</h2>

        <div class="space-y-3">
          <!-- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ -->
          <button id="backupBtn"
            class="w-full bg-ios-blue text-white py-3 rounded-xl font-medium active:bg-blue-600 flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
            </svg>
            ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
          </button>

          <!-- å¾©å…ƒ -->
          <label
            class="w-full bg-green-500 text-white py-3 rounded-xl font-medium active:bg-green-600 flex items-center justify-center gap-2 cursor-pointer">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            å¾©å…ƒã™ã‚‹
            <input type="file" id="restoreFile" accept=".json" class="hidden">
          </label>

          <!-- å…¨ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ -->
          <button id="resetDataBtn"
            class="w-full bg-red-500 text-white py-3 rounded-xl font-medium active:bg-red-600 flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
            å…¨ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
          </button>
        </div>
      </div>
      <div class="border-t border-ios-separator">
        <button id="closeSettings" class="w-full py-3 text-ios-blue font-semibold">
          é–‰ã˜ã‚‹
        </button>
      </div>
    </div>
  </div>

  <!-- Markdownãƒ˜ãƒ«ãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="markdownHelpModal"
    class="modal-overlay fixed inset-0 z-50 bg-black/40 flex items-center justify-center px-4">
    <div
      class="modal-content bg-ios-card rounded-2xl w-full max-w-md shadow-ios-lg transform translate-y-0 max-h-[80vh] overflow-hidden flex flex-col">
      <div class="p-5 border-b border-ios-separator">
        <h2 class="text-lg font-bold text-center">ğŸ“ Markdownè¨˜æ³•ãƒ˜ãƒ«ãƒ—</h2>
      </div>
      <div class="p-5 overflow-auto space-y-4 text-sm">
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">è¦‹å‡ºã—</div>
          <code class="text-xs text-ios-blue">## å¤§è¦‹å‡ºã—</code><br>
          <code class="text-xs text-ios-blue">### å°è¦‹å‡ºã—</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">å¤ªå­—</div>
          <code class="text-xs text-ios-blue">**å¤ªå­—ãƒ†ã‚­ã‚¹ãƒˆ**</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">æ–œä½“</div>
          <code class="text-xs text-ios-blue">*æ–œä½“ãƒ†ã‚­ã‚¹ãƒˆ*</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">ãƒªã‚¹ãƒˆ</div>
          <code class="text-xs text-ios-blue">- é …ç›®1</code><br>
          <code class="text-xs text-ios-blue">- é …ç›®2</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹</div>
          <code class="text-xs text-ios-blue">- [ ] æœªå®Œäº†</code><br>
          <code class="text-xs text-ios-blue">- [x] å®Œäº†</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">ãƒªãƒ³ã‚¯</div>
          <code class="text-xs text-ios-blue">[ãƒªãƒ³ã‚¯æ–‡å­—](URL)</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">ã‚³ãƒ¼ãƒ‰</div>
          <code class="text-xs text-ios-blue">`ã‚³ãƒ¼ãƒ‰`</code>
        </div>
        <div class="bg-ios-bg rounded-xl p-3">
          <div class="font-semibold text-gray-700 mb-1">å¼•ç”¨</div>
          <code class="text-xs text-ios-blue">> å¼•ç”¨æ–‡</code>
        </div>
      </div>
      <div class="border-t border-ios-separator">
        <button id="closeMarkdownHelp" class="w-full py-3 text-ios-blue font-semibold">
          é–‰ã˜ã‚‹
        </button>
      </div>
    </div>
  </div>

  <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
  <div id="toastNotification" class="toast-notification">
    <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
    </svg>
    <span id="toastMessage">ä¿å­˜ã—ã¾ã—ãŸï¼</span>
  </div>

  <script src="app.js"></script>
</body>

</html>